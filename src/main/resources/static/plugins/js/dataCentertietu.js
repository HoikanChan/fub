function addtietuMap(e){var a=JSON.parse(e.range),t=getImageBbox(a);tietuLayerMap.put(e.dataId+"thumbnailLayer",new OpenLayers.Layer.Image(e.dataId+"thumbnailLayer",api.cloudHost+"/getImage?filepath="+e.filePath+"&name="+e.name,t,new OpenLayers.Size(1,1),{isBaseLayer:!1,displayInLayerSwitcher:!0}))}function removetietu(){for(var e=tietuLayerMap.toArray(),a=0;a<e.length;a++)map.getLayersByName(tietuLayerMap.arr[a].key).length>0&&removeonetietu(tietuLayerMap.arr[a].key);tietuLayerMap=new Map}function removeonetietu(e){map.getLayersByName(e).length>0&&map.removeLayer(tietuLayerMap.get(e))}function settietuUrlNaddLayer(e){var a=tietuLayerMap.get(e);if(!a.url){var t=a.url;a.setUrl(t),tietuLayerMap.put(e,a),map.addLayers([tietuLayerMap.get(e)])}map.addLayers([tietuLayerMap.get(e)])}function getImageBbox(e){for(var a=e.coordinates[0][0],t=0,r=0,i=0,u=0,n=0;n<a.length;n++)0==n?(t=a[n][1],r=a[n][1],i=a[n][0],u=a[n][0]):(a[n][1]>=t&&(t=a[n][1]),a[n][1]<=r&&(r=a[n][1]),a[n][0]>=i&&(i=a[n][0]),a[n][0]<=u&&(u=a[n][0]));return new OpenLayers.Bounds([u,r,i,t])}function tietuYesNo(e,a){var t=a.replace("thumbnailLayer","");$(e).hasClass("active")?($(e).removeClass("active"),$(e).attr("title","点击隐藏贴图"),map.removeLayer(tietuLayerMap.get(a)),tietushowMap&&tietushowMap.remove(t)):($(e).addClass("active"),$(e).attr("title","点击显示贴图"),settietuUrlNaddLayer(a),tietushowMap&&tietushowMap.put(t,t))}var tietuLayerMap=new Map,teituPath,teituname;