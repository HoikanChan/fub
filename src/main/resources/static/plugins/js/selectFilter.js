jQuery.fn.selectFilter=function(l){function t(l,t){var i=$(l).find(".filter-list"),e=$(l).find(".filter-list")[0],a=$(l)[0],s=t.target;e===s||$.contains(e,s)||$.contains(a,s)||(i.slideUp(50),$(l).find(".filter-list").removeClass("filter-open"),$(l).find(".icon-filter-arrow").removeClass("filter-show"))}var i={callBack:function(l){}},e=$.extend({},i,l),a=$(this).find("select option"),s=this,n="";n+='<ul class="filter-list">',$(a).each(function(l,t){var i=$(t).val(),e=$(t).html(),a=$(t).attr("selected"),f=$(t).attr("disabled"),r=a?"filter-selected":"",o=f?"filter-disabled":"";a?(n+='<li class="'+r+'" data-value="'+i+'"><a title="'+e+'">'+e+"</a></li>",$(s).find(".filter-title").val(e)):n+=f?'<li class="'+o+'" data-value="'+i+'"><a>'+e+"</a></li>":'<li data-value="'+i+'"><a title="'+e+'">'+e+"</a></li>"}),n+="</ul>",$(s).append(n),$(s).find("select").hide(),$(s).on("click",".filter-text",function(){$(s).find(".filter-list").slideToggle(100),$(s).find(".filter-list").toggleClass("filter-open"),$(s).find(".icon-filter-arrow").toggleClass("filter-show")}),$(s).find(".filter-list li").not(".filter-disabled").on("click",function(){var l=$(this).data("value"),t=$(this).find("a").html();$(s).find(".filter-title").val(t),$(s).find(".icon-filter-arrow").toggleClass("filter-show"),$(this).addClass("filter-selected").siblings().removeClass("filter-selected"),$(this).parent().slideToggle(50);for(var i=0;i<a.length;i++){l==a.eq(i).val()&&$(s).find("select").val(l)}e.callBack(l)}),$(document).on("mousedown",function(l){t(s,l)}),$(document).on("touchstart",function(l){t(s,l)})};